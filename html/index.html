<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #drag {
            border: 1px solid red;
            width: 200px;
            height: 100px;
        }
    </style>

</head>
<body>
<div id="p">
    <p id="test">1111</p>
    <p>2222</p>
    <p>3333</p>
</div>

<div id="div1">
    <p id="a">1111</p>
    <p id="b">2222</p>
    div1
</div>
<div id="div2">
    div2
    <p id="c">3333</p>
    <p id="d">4444</p>
</div>
<button id="btn">click me</button>

<hr>
input<input type="text" id="input1">

<hr>
<div id="drag" draggable="true">
    drag me
</div>
<!--
<script src="/ajax/ajax-demo.js"></script>
-->
<!--<script src="/debounce/debounce-demo.js"></script>-->
<script>
    /*
      window.callback = function(data){
            console.log(data)
        }*/
    //const input1 = document.getElementById('input1')
    document.getElementById('input1').addEventListener('keyup',debounce(()=>{
        console.log(input1.value)
    }),1000)
    function debounce(fn, delay) {
        let timer = null
        return function () {
            if(timer){
                clearTimeout(timer)
            }
            timer = setTimeout(()=>{
                fn.apply(this,arguments)
                timer = null
            },delay)
        }
    }


    //const drag = document.getElementById('drag')
    document.getElementById('drag').addEventListener('drag',throttle((e)=>{
        console.log(e.offsetX,e.offsetY)
    },500))
    function throttle(fn,delay) {
        let timer = null
        return function () {
            setTimeout(()=>{
                if(timer){
                    return
                }
                console.log(this)
                fn.apply(this,arguments)
                timer = null
            },delay)
        }
    }

</script>
</body>
</html>
